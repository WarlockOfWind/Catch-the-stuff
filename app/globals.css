@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Manrope:wght@400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-gray-600;
  }
  
  body {
    @apply bg-prompt-dark text-white font-inter;
    margin: 0;
    padding: 0;
    overflow: hidden;
    user-select: none;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
  }

  html, body, #__next {
    height: 100%;
    width: 100%;
  }
}

@layer components {
  .game-canvas {
    @apply w-full h-full;
    display: block;
    background: #1A1A1A;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }

  .btn-primary {
    @apply bg-prompt-orange hover:bg-prompt-accent text-white font-semibold py-3 px-8 rounded-lg transition-all duration-200 transform hover:scale-105 active:scale-95;
  }

  .btn-secondary {
    @apply bg-prompt-gray hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200;
  }

  .toggle-switch {
    @apply relative inline-block w-12 h-6;
  }

  .toggle-switch input {
    @apply opacity-0 w-0 h-0;
  }

  .toggle-slider {
    @apply absolute cursor-pointer top-0 left-0 right-0 bottom-0 bg-gray-600 transition-all duration-300 rounded-full;
  }

  .toggle-slider:before {
    @apply absolute content-[''] h-5 w-5 left-0.5 bottom-0.5 bg-white transition-all duration-300 rounded-full;
  }

  .toggle-switch input:checked + .toggle-slider {
    @apply bg-prompt-orange;
  }

  .toggle-switch input:checked + .toggle-slider:before {
    @apply transform translate-x-6;
  }

  .score-display {
    @apply text-4xl font-bold text-prompt-orange;
    text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
  }

  .timer-display {
    @apply text-2xl font-semibold text-white;
  }

  .hud-container {
    @apply absolute top-4 left-4 right-4 flex justify-between items-start z-10;
  }

  .accessibility-notice {
    @apply text-xs text-gray-400 text-center mt-2;
  }
}

/* Animations pour les effets de jeu */
@keyframes particle-float {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
}

.particle {
  animation: particle-float 2s ease-out forwards;
}

/* Styles pour les préférences d'accessibilité */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Styles pour le contraste renforcé */
.high-contrast {
  @apply bg-black text-white;
}

.high-contrast .btn-primary {
  @apply bg-white text-black border-2 border-white;
}

.high-contrast .btn-secondary {
  @apply bg-gray-800 text-white border border-gray-400;
}

/* Styles pour les toggles */
.toggle-switch {
  @apply relative inline-block w-12 h-6 cursor-pointer;
  -webkit-tap-highlight-color: transparent;
}

.toggle-switch:focus {
  @apply outline-none ring-2 ring-prompt-orange ring-opacity-50 rounded-full;
}

.toggle-slider {
  @apply absolute top-0 left-0 right-0 bottom-0 bg-gray-600 rounded-full transition-all duration-300 ease-in-out;
  pointer-events: none;
}

.toggle-slider:before {
  @apply absolute content-[''] h-5 w-5 left-0.5 bottom-0.5 bg-white rounded-full transition-all duration-300 ease-in-out;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.toggle-slider-active {
  @apply bg-prompt-orange;
}

.toggle-slider-active:before {
  @apply transform translate-x-6;
}

/* Amélioration pour mobile */
@media (max-width: 768px) {
  .toggle-switch {
    @apply w-14 h-7;
  }
  
  .toggle-slider:before {
    @apply h-6 w-6;
  }
  
  .toggle-slider-active:before {
    @apply transform translate-x-7;
  }
}
